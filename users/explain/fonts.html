
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Fonts in Matplotlib text engine &#8212; Matplotlib 3.6.0.dev1143+gac2a145819 documentation</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/style.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mpl.css?v3.5.0-1143-gac2a145819" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Matplotlib 3.6.0.dev1143+gac2a145819 documentation"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Event handling and picking" href="event_handling.html" />
    <link rel="prev" title="Interactive figures" href="interactive.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
<script async="" src="https://www.google-analytics.com/analytics.js"></script>
<script>
                        window.ga = window.ga || function () {
                            (ga.q = ga.q || []).push(arguments) };
                        ga.l = +new Date;
                        ga('create', 'UA-55954603-1', 'auto');
                        ga('set', 'anonymizeIp', true);
                        ga('send', 'pageview');
                    </script>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    

<a class="navbar-brand" href="../../index.html">
  <img src="../../_static/logo2.svg" class="logo" alt="logo">
</a>      


    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        
<ul id="navbar-main-elements" class="navbar-nav">
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../plot_types/index.html">Plot types</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../gallery/index.html">Examples</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../tutorials/index.html">Tutorials</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../api/index.html">Reference</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../index.html">User guide</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../../devel/index.html">Develop</a>
  </li>
  <li class="nav-item">
    <a class="reference internal nav-link" href="../release_notes.html">Release notes</a>
  </li>
</ul>

      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        
      <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://gitter.im/matplotlib" rel="noopener" target="_blank" title="gitter">
            <span><i class="fab fa-gitter"></i></span>
            <label class="sr-only">gitter</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://discourse.matplotlib.org" rel="noopener" target="_blank" title="discourse">
            <span><i class="fab fa-discourse"></i></span>
            <label class="sr-only">discourse</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/matplotlib/matplotlib" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://twitter.com/matplotlib/" rel="noopener" target="_blank" title="twitter">
            <span><i class="fab fa-twitter-square"></i></span>
            <label class="sr-only">twitter</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="backends.html">
   Backends
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="interactive.html">
   Interactive figures
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="simple">
  </ul>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Fonts in Matplotlib text engine
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="event_handling.html">
   Event handling and picking
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="performance.html">
   Performance
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="interactive_guide.html">
   Interactive figures and asynchronous programming
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#font-specifications">
   Font specifications
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#special-mentions">
     Special mentions
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#subsetting">
   Subsetting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#what-to-use">
   What to use?
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="fonts-in-matplotlib-text-engine">
<h1>Fonts in Matplotlib text engine<a class="headerlink" href="#fonts-in-matplotlib-text-engine" title="Permalink to this headline">¶</a></h1>
<p>Matplotlib needs fonts to work with its text engine, some of which are shipped
alongside the installation. However, users can configure the default fonts, or
even provide their own custom fonts! For more details, see <a class="reference internal" href="../../tutorials/text/text_props.html"><span class="doc">Customizing
text properties</span></a>.</p>
<p>However, Matplotlib also provides an option to offload text rendering to a TeX
engine (<code class="docutils literal notranslate"><span class="pre">usetex=True</span></code>),
see <a class="reference internal" href="../../tutorials/text/usetex.html"><span class="doc">Text rendering with LaTeX</span></a>.</p>
<section id="font-specifications">
<h2>Font specifications<a class="headerlink" href="#font-specifications" title="Permalink to this headline">¶</a></h2>
<p>Fonts have a long and sometimes incompatible history in computing, leading to
different platforms supporting different types of fonts. In practice, there are
3 types of font specifications Matplotlib supports (in addition to 'core
fonts', more about which is explained later in the guide):</p>
<table class="table" id="id3">
<caption><span class="caption-text">Type of Fonts</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type 1 (PDF)</p></th>
<th class="head"><p>Type 3 (PDF/PS)</p></th>
<th class="head"><p>TrueType (PDF)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>One of the oldest types, introduced by Adobe</p></td>
<td><p>Similar to Type 1 in terms of introduction</p></td>
<td><p>Newer than previous types, used commonly today, introduced by Apple</p></td>
</tr>
<tr class="row-odd"><td><p>Restricted subset of PostScript, charstrings are in bytecode</p></td>
<td><p>Full PostScript language, allows embedding arbitrary code
(in theory, even render fractals when rasterizing!)</p></td>
<td><p>Include a virtual machine that can execute code!</p></td>
</tr>
<tr class="row-even"><td><p>These fonts support font hinting</p></td>
<td><p>Do not support font hinting</p></td>
<td><p>Hinting supported (virtual machine processes the &quot;hints&quot;)</p></td>
</tr>
<tr class="row-odd"><td><p>Non-subsetted through Matplotlib</p></td>
<td><p>Subsetted via external module <a class="reference external" href="https://github.com/sandflow/ttconv">ttconv</a></p></td>
<td><p>Subsetted via external module <a class="reference external" href="https://github.com/fonttools/fonttools">fonttools</a></p></td>
</tr>
</tbody>
</table>
<p>NOTE: Adobe will disable support for authoring with Type 1 fonts in
January 2023. <a class="reference external" href="https://helpx.adobe.com/fonts/kb/postscript-type-1-fonts-end-of-support.html">Read more here.</a></p>
<section id="special-mentions">
<h3>Special mentions<a class="headerlink" href="#special-mentions" title="Permalink to this headline">¶</a></h3>
<p>Other font specifications which Matplotlib supports:</p>
<ul class="simple">
<li><p>Type 42 fonts (PS):</p>
<ul>
<li><p>PostScript wrapper around TrueType fonts</p></li>
<li><p>42 is the <a class="reference external" href="https://en.wikipedia.org/wiki/Answer_to_Life,_the_Universe,_and_Everything">Answer to Life, the Universe, and Everything!</a></p></li>
<li><p>Matplotlib uses an external library called <a class="reference external" href="https://github.com/fonttools/fonttools">fonttools</a>
to subset these types of fonts</p></li>
</ul>
</li>
<li><p>OpenType fonts:</p>
<ul>
<li><p>OpenType is a new standard for digital type fonts, developed jointly by
Adobe and Microsoft</p></li>
<li><p>Generally contain a much larger character set!</p></li>
<li><p>Limited Support with Matplotlib</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="subsetting">
<h2>Subsetting<a class="headerlink" href="#subsetting" title="Permalink to this headline">¶</a></h2>
<p>Matplotlib is able to generate documents in multiple different formats. Some of
those formats (for example, PDF, PS/EPS, SVG) allow embedding font data in such
a way that when these documents are visually scaled, the text does not appear
pixelated.</p>
<p>This can be achieved by embedding the <em>whole</em> font file within the
output document. However, this can lead to very large documents, as some
fonts (for instance, CJK - Chinese/Japanese/Korean fonts) can contain a large
number of glyphs, and thus their embedded size can be quite huge.</p>
<p>Font Subsetting can be used before generating documents, to embed only the
<em>required</em> glyphs within the documents. Fonts can be considered as a collection
of glyphs, so ultimately the goal is to find out <em>which</em> glyphs are required
for a certain array of characters, and embed only those within the output.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The role of subsetter really shines when we encounter characters like <strong>ä</strong>
(composed by calling subprograms for <strong>a</strong> and <strong>¨</strong>); since the subsetter
has to find out <em>all</em> such subprograms being called by every glyph included
in the subset, this is a generally difficult problem!</p>
</div>
<p>Luckily, Matplotlib uses a fork of an external dependency called
<a class="reference external" href="https://github.com/sandflow/ttconv">ttconv</a>, which helps in embedding and
subsetting font data. (however, recent versions have moved away from ttconv to
pure Python for certain types: for more details visit
<a class="reference external" href="https://github.com/matplotlib/matplotlib/pull/18370">these</a>, <a class="reference external" href="https://github.com/matplotlib/matplotlib/pull/18181">links</a>)</p>
<div class="line-block">
<div class="line"><em>Type 1 fonts are still non-subsetted</em> through Matplotlib. (though one will encounter these mostly via <em>usetex</em>/<em>dviread</em> in PDF backend)</div>
<div class="line"><strong>Type 3 and Type 42 fonts are subsetted</strong>, with a fair amount of exceptions and bugs for the latter.</div>
</div>
</section>
<section id="what-to-use">
<h2>What to use?<a class="headerlink" href="#what-to-use" title="Permalink to this headline">¶</a></h2>
<p>Practically, most fonts that are readily available on most operating systems or
are readily available on the internet to download include <em>TrueType fonts</em> and
its &quot;extensions&quot; such as MacOS-resource fork fonts and the newer OpenType
fonts.</p>
<p>PS and PDF backends provide support for yet another type of fonts, which remove
the need of subsetting altogether! These are called <strong>Core Fonts</strong>, and
Matplotlib calls them via the keyword <strong>AFM</strong>; all that is supplied from
Matplotlib to such documents are font metrics (specified in AFM format), and it
is the job of the viewer applications to supply the glyph definitions.</p>
<p>This is especially helpful to generate <em>really lightweight</em> documents.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># trigger core fonts for PDF backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;pdf.use14corefonts&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
<span class="c1"># trigger core fonts for PS backend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s2">&quot;ps.useafm&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">chars</span> <span class="o">=</span> <span class="s2">&quot;AFM ftw!&quot;</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="n">chars</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PDF.pdf&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;pdf&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s2">&quot;AFM_PS.ps&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ps)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These core fonts are limited to PDF and PS backends only; they can not be
rendered in other backends.</p>
<p>Another downside to this is that while the font metrics are standardized,
different PDF viewer applications will have different fonts to render these
metrics. In other words, the <strong>output might look different on different
viewers</strong>, as well as (let's say) Windows and Linux, if Linux tools included
free versions of the proprietary fonts.</p>
<p>This also violates the <em>what-you-see-is-what-you-get</em> feature of Matplotlib.</p>
</div>
</section>
</section>


              </div>
              
              
          </main>
          

      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2002–2012 John Hunter, Darren Dale, Eric Firing, Michael Droettboom and the Matplotlib development team; 2012–2021 The Matplotlib development team.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.2.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>